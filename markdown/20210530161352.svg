<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="405px" preserveAspectRatio="none" style="width:944px;height:405px;" version="1.1" viewBox="0 0 944 405" width="944px" zoomAndPan="magnify"><defs><filter height="300%" id="f8udklpi278kw" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="39" x2="39" y1="40.4883" y2="362.2832"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="129" x2="129" y1="40.4883" y2="362.2832"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="239" x2="239" y1="40.4883" y2="362.2832"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="549" x2="549" y1="40.4883" y2="362.2832"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="722" x2="722" y1="40.4883" y2="362.2832"/><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="64" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="12" y="25.5352">Init进程</text><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="64" x="5" y="361.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="12" y="381.8184">Init进程</text><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="88" x="83" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="90" y="25.5352">Zygote进程</text><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="88" x="83" y="361.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="90" y="381.8184">Zygote进程</text><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="105" x="185" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="192" y="25.5352">SystemServer</text><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="105" x="185" y="361.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="192" y="381.8184">SystemServer</text><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="165" x="465" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="472" y="25.5352">SystemServerManager</text><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="165" x="465" y="361.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="472" y="381.8184">SystemServerManager</text><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="152" x="644" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="651" y="25.5352">JobSchedulerService</text><rect fill="#FEFECE" filter="url(#f8udklpi278kw)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="152" x="644" y="361.2832"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="651" y="381.8184">JobSchedulerService</text><polygon fill="#A80036" points="117,67.7988,127,71.7988,117,75.7988,121,71.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="123" y1="71.7988" y2="71.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="46" y="67.0566">创建</text><polygon fill="#A80036" points="227.5,97.1094,237.5,101.1094,227.5,105.1094,231.5,101.1094" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="129" x2="233.5" y1="101.1094" y2="101.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="136" y="96.3672">fork</text><line style="stroke:#A80036;stroke-width:1.0;" x1="239.5" x2="281.5" y1="130.4199" y2="130.4199"/><line style="stroke:#A80036;stroke-width:1.0;" x1="281.5" x2="281.5" y1="130.4199" y2="143.4199"/><line style="stroke:#A80036;stroke-width:1.0;" x1="240.5" x2="281.5" y1="143.4199" y2="143.4199"/><polygon fill="#A80036" points="250.5,139.4199,240.5,143.4199,250.5,147.4199,246.5,143.4199" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="246.5" y="125.6777">main()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="239.5" x2="281.5" y1="172.7305" y2="172.7305"/><line style="stroke:#A80036;stroke-width:1.0;" x1="281.5" x2="281.5" y1="172.7305" y2="185.7305"/><line style="stroke:#A80036;stroke-width:1.0;" x1="240.5" x2="281.5" y1="185.7305" y2="185.7305"/><polygon fill="#A80036" points="250.5,181.7305,240.5,185.7305,250.5,189.7305,246.5,185.7305" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="246.5" y="167.9883">run()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="239.5" x2="281.5" y1="215.041" y2="215.041"/><line style="stroke:#A80036;stroke-width:1.0;" x1="281.5" x2="281.5" y1="215.041" y2="228.041"/><line style="stroke:#A80036;stroke-width:1.0;" x1="240.5" x2="281.5" y1="228.041" y2="228.041"/><polygon fill="#A80036" points="250.5,224.041,240.5,228.041,250.5,232.041,246.5,228.041" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="246.5" y="210.2988">startOtherService()</text><polygon fill="#A80036" points="537.5,253.3516,547.5,257.3516,537.5,261.3516,541.5,257.3516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="239.5" x2="543.5" y1="257.3516" y2="257.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286" x="246.5" y="252.6094">startService(JOB_SCHEDULER_SERVICE_CLASS)</text><polygon fill="#A80036" points="710,282.6621,720,286.6621,710,290.6621,714,286.6621" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="549.5" x2="716" y1="286.6621" y2="286.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="556.5" y="281.9199">反射 newInstance</text><line style="stroke:#A80036;stroke-width:1.0;" x1="722" x2="764" y1="331.2832" y2="331.2832"/><line style="stroke:#A80036;stroke-width:1.0;" x1="764" x2="764" y1="331.2832" y2="344.2832"/><line style="stroke:#A80036;stroke-width:1.0;" x1="723" x2="764" y1="344.2832" y2="344.2832"/><polygon fill="#A80036" points="733,340.2832,723,344.2832,733,348.2832,729,344.2832" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="729" y="311.2305">初始化 handler、构建 mJob 队列、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="733" y="326.541">添加各种 controller</text><!--MD5=[7888bbf2e03173a2f0e6e330ab22c616]
@startuml jobservice服务端调用
Init进程 -> Zygote进程: 创建
Zygote进程 -> SystemServer: fork
SystemServer -> SystemServer: main()
SystemServer -> SystemServer: run()
SystemServer -> SystemServer: startOtherService()
SystemServer -> SystemServerManager: startService(JOB_SCHEDULER_SERVICE_CLASS)
SystemServerManager -> JobSchedulerService: 反射 newInstance
JobSchedulerService -> JobSchedulerService: 初始化 handler、构建 mJob 队列、\n 添加各种 controller
@enduml

PlantUML version 1.2021.00(Sun Jan 10 18:25:05 CST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>